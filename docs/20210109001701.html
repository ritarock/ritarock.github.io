<!DOCTYPE html><!--nvFx_FV4eLnf8EmFzYlmi--><html lang="ja"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/5e22d3fe14facb50.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-a736bdd7de20ec56.js"/><script src="/_next/static/chunks/c2bb8663-25b9ddcb298b2a19.js" async=""></script><script src="/_next/static/chunks/933-bc707027486726a4.js" async=""></script><script src="/_next/static/chunks/main-app-72d284f8ed369795.js" async=""></script><script src="/_next/static/chunks/119-2ee48d1f375d3fd9.js" async=""></script><script src="/_next/static/chunks/app/page-ee49d1414c09869d.js" async=""></script><title>MyDocs</title><meta name="description" content="A simple SSG blog built with Next.js"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body style="background-color:ghostwhite;margin:0;min-height:100vh"><div hidden=""><!--$--><!--/$--></div><header style="padding:1rem 0;margin-bottom:0.25rem"><div style="max-width:1000px;margin:0 auto;padding:0 2rem"><a style="font-size:1.5rem;font-weight:bold;text-decoration:none;color:#333" href="/">MyDocs</a></div></header><article style="max-width:1000px;margin:0 auto;padding:0 2rem 2rem"><h1>コマンドいろいろ</h1><div><p><a href="https://roadmap.sh/roadmaps">Developer Roadmaps</a> にあった DevOps コマンドをまとめておく。</p>
<h2>文字列操作</h2>
<h3>awk</h3>
<p>列を抽出する。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">echo</span> 1 2 3 4|awk <span class="hljs-string">'{print $1}'</span>
1
$ <span class="hljs-built_in">echo</span> 1 2 3 4|awk <span class="hljs-string">'{print $2}'</span>
2
</code></pre>
<p><code>$0</code> だとすべて。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">echo</span> 1 2 3 4|awk <span class="hljs-string">'{print $0}'</span>
1 2 3 4
</code></pre>
<p>区切り文字の指定もできる。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">echo</span> 1:2:3:4|awk -F<span class="hljs-string">'[:]'</span> <span class="hljs-string">'{print $1}'</span>
1
</code></pre>
<h3>sed</h3>
<p>文字列置換。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt
1 2 3 4 5
$ sed <span class="hljs-string">'s/3/333/g'</span> test.txt
1 2 333 4 5
</code></pre>
<h3>grep</h3>
<p>文字列検索。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt
1
2
3
4
5

$ <span class="hljs-built_in">cat</span> test.txt | grep 3
3
</code></pre>
<p><code>-v</code> は一致しないものを検索する。</p>
<h3>sort</h3>
<p>ソートする。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt
1
12
3
23
55
22

$ <span class="hljs-built_in">sort</span> test.txt
1
12
22
23
3
55
</code></pre>
<p><code>-n</code> は数値として並べる。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">sort</span> -n test.txt
1
3
12
22
23
55
</code></pre>
<p><code>-r</code> は逆順として並べる。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">sort</span> -n -r test.txt
55
23
22
12
3
1
</code></pre>
<h3>uniq</h3>
<p>重複した行を削除。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt
0123456789
abcdefghij
abcdefghij
ABCDEFGHIJ
9876543210

$ <span class="hljs-built_in">uniq</span> test.txt
0123456789
abcdefghij
ABCDEFGHIJ
9876543210
</code></pre>
<p><code>-i</code> は大文字小文字を無視する。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">uniq</span> -i test.txt
0123456789
abcdefghij
9876543210
</code></pre>
<h3>cat</h3>
<p>ファイル出力。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt
0123456789
abcdefghij
abcdefghij
ABCDEFGHIJ
9876543210
</code></pre>
<h3>cut</h3>
<p>awk で良さそう。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt
1:2:3
4:5:6
7:8:9

$ <span class="hljs-built_in">cut</span> -f 2 -d <span class="hljs-string">":"</span> test.txt
2
5
8
</code></pre>
<p><code>awk</code> でやる場合。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt |awk -F <span class="hljs-string">':'</span> <span class="hljs-string">'{print $2}'</span>
2
5
8
</code></pre>
<h3>echo</h3>
<p>文字列を表示する。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">echo</span> <span class="hljs-string">'aaa'</span>
aaa
</code></pre>
<h3>fmt</h3>
<p>整形。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt
1 2 3
4 5 6
7 8 9

$ <span class="hljs-built_in">fmt</span> test.txt
1 2 3 4 5 6 7 8 9
</code></pre>
<h3>tr</h3>
<p>文字の変換、削除する。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt
12345
abcde
ABCDE

$ <span class="hljs-built_in">cat</span> test.txt | <span class="hljs-built_in">tr</span> abc XYZ
12345
XYZde
ABCDE

$ <span class="hljs-built_in">cat</span> test.txt | <span class="hljs-built_in">tr</span> -d 123
45
abcde
ABCDE
</code></pre>
<h3>nl</h3>
<p>行数表示できる。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">nl</span> test.txt
     1 12345
     2 abcde
     3 ABCDE
</code></pre>
<p>cat でやるなら <code>-b</code> を使う。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> -b test.txt
     1 12345
     2 abcde
     3 ABCDE
</code></pre>
<h3>egrep</h3>
<p><code>grep -E</code> と同じ意味。</p>
<p>拡張正規表現ってのが使える.普通の正規表現と何が違うかはよくわからない。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt
12345
bar
foo

$ grep -E <span class="hljs-string">'^(bar|foo)'</span> test.txt
bar
foo
</code></pre>
<h3>fgrep</h3>
<p><code>grep -F</code> と同じ意味。</p>
<p>正規表現文字をそのまま検索できる。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt
12345
bar.foo

$ grep -F <span class="hljs-string">'bar.foo'</span> test.txt
bar.foo
</code></pre>
<h3>wc</h3>
<p>行数、単語数を数える。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt
Hello World!
</code></pre>
<p><code>-m</code> は文字数を数える。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">wc</span> -m test.txt
      13 test.txt
</code></pre>
<p><code>-w</code> は単語数を数える。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">wc</span> -w test.txt
       2 test.txt
</code></pre>
<h2>プロセス管理</h2>
<h3>ps</h3>
<p>全プロセスを表示する。</p>
<pre><code class="hljs language-bash">$ ps aux
</code></pre>
<h3>top</h3>
<p>プロセス、CPU、メモリを表示。</p>
<p>デフォルトだと CPU 使用率順にソート。</p>
<p><code>-a</code> でメモリ使用順にソート。</p>
<h3>htop</h3>
<p>top より見やすい。</p>
<p>Shift + P で CPU 使用率、Shift + M でメモリ使用率順。</p>
<h3>atop</h3>
<p>top コマンドの代替。</p>
<p>htop のほうが良さそう。</p>
<h3>lsof</h3>
<p>特定のポート番号を待ち受けているか、もしくはファイルを読み込んでいるかを調べるとき。</p>
<p>80 番ポートで実行中のプロセスを調べる。</p>
<pre><code class="hljs language-bash">$ lsof -i:80 -P
</code></pre>
<p>特定のファイルを開いているプロセスを調べる。</p>
<pre><code class="hljs language-bash">$ lsof &#x3C;FILE>
</code></pre>
<p>コマンドを指定する。</p>
<pre><code class="hljs language-bash">$ lsof -c &#x3C;COMMAND>
</code></pre>
<h2>ネットワーク</h2>
<h3>nmap</h3>
<p>サーバの開いているポートを調べる。</p>
<pre><code class="hljs language-bash">$ nmap &#x3C;SERVER>
</code></pre>
<h3>tcpdump</h3>
<p>パケットをキャプチャする。</p>
<p>ホストを指定してキャプチャする。</p>
<pre><code class="hljs language-bash">$ tcpdump host &#x3C;HOST>
</code></pre>
<p>port を指定する。</p>
<pre><code class="hljs language-bash">$ tcpdump host &#x3C;HOST> and port 22
$ tcpdump host &#x3C;HOST> or port 22
</code></pre>
<h3>ping</h3>
<p>パケットを送信して通信を確認。</p>
<h3>traceroute</h3>
<p>経路と応答を調べる。</p>
<p><code>&#x3C;TARGET></code> までの経路と応答を調べる。</p>
<pre><code class="hljs language-bash">$ traceroute &#x3C;TARGET>
</code></pre>
<h3>mtr</h3>
<p>経路と応答を調べる.
traceroute とだいたい同じ。</p>
<h3>dig</h3>
<p>ドメイン名に対する IP を調べる。</p>
<pre><code class="hljs language-bash">$ dig www.google.co.jp
</code></pre>
<h3>netstat</h3>
<p>ネットワーク関連の情報を表示。</p>
<p><code>-r</code> でルーティングテーブルを表示する。</p>
<h2>システムパフォーマンス</h2>
<h3>nmon</h3>
<p>OS のベンチマークをとったりできる。</p>
<h3>iostat</h3>
<p>CPU 使用率と I/O デバイスの使用状況を調べる。</p>
<h3>sar</h3>
<p>メモリ、プロセス、スワップ、 CPU 等の統計情報を調べる。</p>
<h3>vmstat</h3>
<p>仮想メモリや CPU 、ディスク I/O の統計情報を調べる。</p>
<h2>その他</h2>
<h3>strace</h3>
<p>実行コマンドをトレースする。</p>
<pre><code class="hljs language-bash">$ strace <span class="hljs-built_in">ls</span>
</code></pre>
<h3>uname</h3>
<p>カーネル名を表示。</p>
<p><code>-a</code> で全ての情報を表示する。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">uname</span> -a
</code></pre>
<h3>df</h3>
<p>ディスクの空き容量を調べる。</p>
<p><code>-h</code> で読みやすく表示。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">df</span> -h
</code></pre>
<h3>history</h3>
<p>コマンドの履歴を表示。</p>
<p><code>-d</code> で指定した番号の履歴を削除する。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">history</span> -d 10
</code></pre></div></article><!--$--><!--/$--><script src="/_next/static/chunks/webpack-a736bdd7de20ec56.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[9119,[\"119\",\"static/chunks/119-2ee48d1f375d3fd9.js\",\"974\",\"static/chunks/app/page-ee49d1414c09869d.js\"],\"\"]\n3:I[730,[],\"\"]\n4:I[2392,[],\"\"]\n6:I[3811,[],\"OutletBoundary\"]\n8:I[4338,[],\"AsyncMetadataOutlet\"]\na:I[3811,[],\"ViewportBoundary\"]\nc:I[3811,[],\"MetadataBoundary\"]\nd:\"$Sreact.suspense\"\nf:I[9426,[],\"\"]\n:HL[\"/_next/static/css/5e22d3fe14facb50.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"nvFx_FV4eLnf8EmFzYlmi\",\"p\":\"\",\"c\":[\"\",\"docs\",\"20210109001701\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"20210109001701\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/5e22d3fe14facb50.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"ja\",\"children\":[\"$\",\"body\",null,{\"style\":{\"backgroundColor\":\"ghostwhite\",\"margin\":0,\"minHeight\":\"100vh\"},\"children\":[[\"$\",\"header\",null,{\"style\":{\"padding\":\"1rem 0\",\"marginBottom\":\"0.25rem\"},\"children\":[\"$\",\"div\",null,{\"style\":{\"maxWidth\":\"1000px\",\"margin\":\"0 auto\",\"padding\":\"0 2rem\"},\"children\":[\"$\",\"$L2\",null,{\"href\":\"/\",\"style\":{\"fontSize\":\"1.5rem\",\"fontWeight\":\"bold\",\"textDecoration\":\"none\",\"color\":\"#333\"},\"children\":\"MyDocs\"}]}]}],[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]}]]}],{\"children\":[\"docs\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"20210109001701\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",null,[\"$\",\"$L6\",null,{\"children\":[\"$L7\",[\"$\",\"$L8\",null,{\"promise\":\"$@9\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$La\",null,{\"children\":\"$Lb\"}],null],[\"$\",\"$Lc\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$d\",null,{\"fallback\":null,\"children\":\"$Le\"}]}]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$f\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"10:T2365,"])</script><script>self.__next_f.push([1,"\u003cp\u003e\u003ca href=\"https://roadmap.sh/roadmaps\"\u003eDeveloper Roadmaps\u003c/a\u003e にあった DevOps コマンドをまとめておく。\u003c/p\u003e\n\u003ch2\u003e文字列操作\u003c/h2\u003e\n\u003ch3\u003eawk\u003c/h3\u003e\n\u003cp\u003e列を抽出する。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003eecho\u003c/span\u003e 1 2 3 4|awk \u003cspan class=\"hljs-string\"\u003e'{print $1}'\u003c/span\u003e\n1\n$ \u003cspan class=\"hljs-built_in\"\u003eecho\u003c/span\u003e 1 2 3 4|awk \u003cspan class=\"hljs-string\"\u003e'{print $2}'\u003c/span\u003e\n2\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003e$0\u003c/code\u003e だとすべて。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003eecho\u003c/span\u003e 1 2 3 4|awk \u003cspan class=\"hljs-string\"\u003e'{print $0}'\u003c/span\u003e\n1 2 3 4\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e区切り文字の指定もできる。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003eecho\u003c/span\u003e 1:2:3:4|awk -F\u003cspan class=\"hljs-string\"\u003e'[:]'\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'{print $1}'\u003c/span\u003e\n1\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003esed\u003c/h3\u003e\n\u003cp\u003e文字列置換。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e test.txt\n1 2 3 4 5\n$ sed \u003cspan class=\"hljs-string\"\u003e's/3/333/g'\u003c/span\u003e test.txt\n1 2 333 4 5\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003egrep\u003c/h3\u003e\n\u003cp\u003e文字列検索。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e test.txt\n1\n2\n3\n4\n5\n\n$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e test.txt | grep 3\n3\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003e-v\u003c/code\u003e は一致しないものを検索する。\u003c/p\u003e\n\u003ch3\u003esort\u003c/h3\u003e\n\u003cp\u003eソートする。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e test.txt\n1\n12\n3\n23\n55\n22\n\n$ \u003cspan class=\"hljs-built_in\"\u003esort\u003c/span\u003e test.txt\n1\n12\n22\n23\n3\n55\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003e-n\u003c/code\u003e は数値として並べる。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003esort\u003c/span\u003e -n test.txt\n1\n3\n12\n22\n23\n55\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003e-r\u003c/code\u003e は逆順として並べる。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003esort\u003c/span\u003e -n -r test.txt\n55\n23\n22\n12\n3\n1\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003euniq\u003c/h3\u003e\n\u003cp\u003e重複した行を削除。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e test.txt\n0123456789\nabcdefghij\nabcdefghij\nABCDEFGHIJ\n9876543210\n\n$ \u003cspan class=\"hljs-built_in\"\u003euniq\u003c/span\u003e test.txt\n0123456789\nabcdefghij\nABCDEFGHIJ\n9876543210\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003e-i\u003c/code\u003e は大文字小文字を無視する。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003euniq\u003c/span\u003e -i test.txt\n0123456789\nabcdefghij\n9876543210\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003ecat\u003c/h3\u003e\n\u003cp\u003eファイル出力。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e test.txt\n0123456789\nabcdefghij\nabcdefghij\nABCDEFGHIJ\n9876543210\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003ecut\u003c/h3\u003e\n\u003cp\u003eawk で良さそう。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e test.txt\n1:2:3\n4:5:6\n7:8:9\n\n$ \u003cspan class=\"hljs-built_in\"\u003ecut\u003c/span\u003e -f 2 -d \u003cspan class=\"hljs-string\"\u003e\":\"\u003c/span\u003e test.txt\n2\n5\n8\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003eawk\u003c/code\u003e でやる場合。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e test.txt |awk -F \u003cspan class=\"hljs-string\"\u003e':'\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'{print $2}'\u003c/span\u003e\n2\n5\n8\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eecho\u003c/h3\u003e\n\u003cp\u003e文字列を表示する。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003eecho\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'aaa'\u003c/span\u003e\naaa\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003efmt\u003c/h3\u003e\n\u003cp\u003e整形。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e test.txt\n1 2 3\n4 5 6\n7 8 9\n\n$ \u003cspan class=\"hljs-built_in\"\u003efmt\u003c/span\u003e test.txt\n1 2 3 4 5 6 7 8 9\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003etr\u003c/h3\u003e\n\u003cp\u003e文字の変換、削除する。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e test.txt\n12345\nabcde\nABCDE\n\n$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e test.txt | \u003cspan class=\"hljs-built_in\"\u003etr\u003c/span\u003e abc XYZ\n12345\nXYZde\nABCDE\n\n$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e test.txt | \u003cspan class=\"hljs-built_in\"\u003etr\u003c/span\u003e -d 123\n45\nabcde\nABCDE\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003enl\u003c/h3\u003e\n\u003cp\u003e行数表示できる。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003enl\u003c/span\u003e test.txt\n     1 12345\n     2 abcde\n     3 ABCDE\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ecat でやるなら \u003ccode\u003e-b\u003c/code\u003e を使う。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e -b test.txt\n     1 12345\n     2 abcde\n     3 ABCDE\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eegrep\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003egrep -E\u003c/code\u003e と同じ意味。\u003c/p\u003e\n\u003cp\u003e拡張正規表現ってのが使える.普通の正規表現と何が違うかはよくわからない。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e test.txt\n12345\nbar\nfoo\n\n$ grep -E \u003cspan class=\"hljs-string\"\u003e'^(bar|foo)'\u003c/span\u003e test.txt\nbar\nfoo\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003efgrep\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003egrep -F\u003c/code\u003e と同じ意味。\u003c/p\u003e\n\u003cp\u003e正規表現文字をそのまま検索できる。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e test.txt\n12345\nbar.foo\n\n$ grep -F \u003cspan class=\"hljs-string\"\u003e'bar.foo'\u003c/span\u003e test.txt\nbar.foo\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003ewc\u003c/h3\u003e\n\u003cp\u003e行数、単語数を数える。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003ecat\u003c/span\u003e test.txt\nHello World!\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003e-m\u003c/code\u003e は文字数を数える。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003ewc\u003c/span\u003e -m test.txt\n      13 test.txt\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003e-w\u003c/code\u003e は単語数を数える。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003ewc\u003c/span\u003e -w test.txt\n       2 test.txt\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eプロセス管理\u003c/h2\u003e\n\u003ch3\u003eps\u003c/h3\u003e\n\u003cp\u003e全プロセスを表示する。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ ps aux\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003etop\u003c/h3\u003e\n\u003cp\u003eプロセス、CPU、メモリを表示。\u003c/p\u003e\n\u003cp\u003eデフォルトだと CPU 使用率順にソート。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e-a\u003c/code\u003e でメモリ使用順にソート。\u003c/p\u003e\n\u003ch3\u003ehtop\u003c/h3\u003e\n\u003cp\u003etop より見やすい。\u003c/p\u003e\n\u003cp\u003eShift + P で CPU 使用率、Shift + M でメモリ使用率順。\u003c/p\u003e\n\u003ch3\u003eatop\u003c/h3\u003e\n\u003cp\u003etop コマンドの代替。\u003c/p\u003e\n\u003cp\u003ehtop のほうが良さそう。\u003c/p\u003e\n\u003ch3\u003elsof\u003c/h3\u003e\n\u003cp\u003e特定のポート番号を待ち受けているか、もしくはファイルを読み込んでいるかを調べるとき。\u003c/p\u003e\n\u003cp\u003e80 番ポートで実行中のプロセスを調べる。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ lsof -i:80 -P\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e特定のファイルを開いているプロセスを調べる。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ lsof \u0026#x3C;FILE\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eコマンドを指定する。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ lsof -c \u0026#x3C;COMMAND\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eネットワーク\u003c/h2\u003e\n\u003ch3\u003enmap\u003c/h3\u003e\n\u003cp\u003eサーバの開いているポートを調べる。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ nmap \u0026#x3C;SERVER\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003etcpdump\u003c/h3\u003e\n\u003cp\u003eパケットをキャプチャする。\u003c/p\u003e\n\u003cp\u003eホストを指定してキャプチャする。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ tcpdump host \u0026#x3C;HOST\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eport を指定する。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ tcpdump host \u0026#x3C;HOST\u003e and port 22\n$ tcpdump host \u0026#x3C;HOST\u003e or port 22\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eping\u003c/h3\u003e\n\u003cp\u003eパケットを送信して通信を確認。\u003c/p\u003e\n\u003ch3\u003etraceroute\u003c/h3\u003e\n\u003cp\u003e経路と応答を調べる。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e\u0026#x3C;TARGET\u003e\u003c/code\u003e までの経路と応答を調べる。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ traceroute \u0026#x3C;TARGET\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003emtr\u003c/h3\u003e\n\u003cp\u003e経路と応答を調べる.\ntraceroute とだいたい同じ。\u003c/p\u003e\n\u003ch3\u003edig\u003c/h3\u003e\n\u003cp\u003eドメイン名に対する IP を調べる。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ dig www.google.co.jp\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003enetstat\u003c/h3\u003e\n\u003cp\u003eネットワーク関連の情報を表示。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e-r\u003c/code\u003e でルーティングテーブルを表示する。\u003c/p\u003e\n\u003ch2\u003eシステムパフォーマンス\u003c/h2\u003e\n\u003ch3\u003enmon\u003c/h3\u003e\n\u003cp\u003eOS のベンチマークをとったりできる。\u003c/p\u003e\n\u003ch3\u003eiostat\u003c/h3\u003e\n\u003cp\u003eCPU 使用率と I/O デバイスの使用状況を調べる。\u003c/p\u003e\n\u003ch3\u003esar\u003c/h3\u003e\n\u003cp\u003eメモリ、プロセス、スワップ、 CPU 等の統計情報を調べる。\u003c/p\u003e\n\u003ch3\u003evmstat\u003c/h3\u003e\n\u003cp\u003e仮想メモリや CPU 、ディスク I/O の統計情報を調べる。\u003c/p\u003e\n\u003ch2\u003eその他\u003c/h2\u003e\n\u003ch3\u003estrace\u003c/h3\u003e\n\u003cp\u003e実行コマンドをトレースする。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ strace \u003cspan class=\"hljs-built_in\"\u003els\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003euname\u003c/h3\u003e\n\u003cp\u003eカーネル名を表示。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e-a\u003c/code\u003e で全ての情報を表示する。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003euname\u003c/span\u003e -a\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003edf\u003c/h3\u003e\n\u003cp\u003eディスクの空き容量を調べる。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e-h\u003c/code\u003e で読みやすく表示。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003edf\u003c/span\u003e -h\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003ehistory\u003c/h3\u003e\n\u003cp\u003eコマンドの履歴を表示。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e-d\u003c/code\u003e で指定した番号の履歴を削除する。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e$ \u003cspan class=\"hljs-built_in\"\u003ehistory\u003c/span\u003e -d 10\n\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"5:[\"$\",\"article\",null,{\"style\":{\"maxWidth\":\"1000px\",\"margin\":\"0 auto\",\"padding\":\"0 2rem 2rem\"},\"children\":[[\"$\",\"h1\",null,{\"children\":\"コマンドいろいろ\"}],[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$10\"}}]]}]\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n7:null\n"])</script><script>self.__next_f.push([1,"9:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"MyDocs\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"A simple SSG blog built with Next.js\"}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"e:\"$9:metadata\"\n"])</script></body></html>