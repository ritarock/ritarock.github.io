1:"$Sreact.fragment"
4:I[25151,["/_next/static/chunks/cc5639b053815f24.js","/_next/static/chunks/4904848246fadb45.js"],"OutletBoundary"]
5:"$Sreact.suspense"
2:T2365,<p><a href="https://roadmap.sh/roadmaps">Developer Roadmaps</a> にあった DevOps コマンドをまとめておく。</p>
<h2>文字列操作</h2>
<h3>awk</h3>
<p>列を抽出する。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">echo</span> 1 2 3 4|awk <span class="hljs-string">'{print $1}'</span>
1
$ <span class="hljs-built_in">echo</span> 1 2 3 4|awk <span class="hljs-string">'{print $2}'</span>
2
</code></pre>
<p><code>$0</code> だとすべて。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">echo</span> 1 2 3 4|awk <span class="hljs-string">'{print $0}'</span>
1 2 3 4
</code></pre>
<p>区切り文字の指定もできる。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">echo</span> 1:2:3:4|awk -F<span class="hljs-string">'[:]'</span> <span class="hljs-string">'{print $1}'</span>
1
</code></pre>
<h3>sed</h3>
<p>文字列置換。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt
1 2 3 4 5
$ sed <span class="hljs-string">'s/3/333/g'</span> test.txt
1 2 333 4 5
</code></pre>
<h3>grep</h3>
<p>文字列検索。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt
1
2
3
4
5

$ <span class="hljs-built_in">cat</span> test.txt | grep 3
3
</code></pre>
<p><code>-v</code> は一致しないものを検索する。</p>
<h3>sort</h3>
<p>ソートする。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt
1
12
3
23
55
22

$ <span class="hljs-built_in">sort</span> test.txt
1
12
22
23
3
55
</code></pre>
<p><code>-n</code> は数値として並べる。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">sort</span> -n test.txt
1
3
12
22
23
55
</code></pre>
<p><code>-r</code> は逆順として並べる。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">sort</span> -n -r test.txt
55
23
22
12
3
1
</code></pre>
<h3>uniq</h3>
<p>重複した行を削除。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt
0123456789
abcdefghij
abcdefghij
ABCDEFGHIJ
9876543210

$ <span class="hljs-built_in">uniq</span> test.txt
0123456789
abcdefghij
ABCDEFGHIJ
9876543210
</code></pre>
<p><code>-i</code> は大文字小文字を無視する。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">uniq</span> -i test.txt
0123456789
abcdefghij
9876543210
</code></pre>
<h3>cat</h3>
<p>ファイル出力。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt
0123456789
abcdefghij
abcdefghij
ABCDEFGHIJ
9876543210
</code></pre>
<h3>cut</h3>
<p>awk で良さそう。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt
1:2:3
4:5:6
7:8:9

$ <span class="hljs-built_in">cut</span> -f 2 -d <span class="hljs-string">":"</span> test.txt
2
5
8
</code></pre>
<p><code>awk</code> でやる場合。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt |awk -F <span class="hljs-string">':'</span> <span class="hljs-string">'{print $2}'</span>
2
5
8
</code></pre>
<h3>echo</h3>
<p>文字列を表示する。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">echo</span> <span class="hljs-string">'aaa'</span>
aaa
</code></pre>
<h3>fmt</h3>
<p>整形。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt
1 2 3
4 5 6
7 8 9

$ <span class="hljs-built_in">fmt</span> test.txt
1 2 3 4 5 6 7 8 9
</code></pre>
<h3>tr</h3>
<p>文字の変換、削除する。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt
12345
abcde
ABCDE

$ <span class="hljs-built_in">cat</span> test.txt | <span class="hljs-built_in">tr</span> abc XYZ
12345
XYZde
ABCDE

$ <span class="hljs-built_in">cat</span> test.txt | <span class="hljs-built_in">tr</span> -d 123
45
abcde
ABCDE
</code></pre>
<h3>nl</h3>
<p>行数表示できる。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">nl</span> test.txt
     1 12345
     2 abcde
     3 ABCDE
</code></pre>
<p>cat でやるなら <code>-b</code> を使う。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> -b test.txt
     1 12345
     2 abcde
     3 ABCDE
</code></pre>
<h3>egrep</h3>
<p><code>grep -E</code> と同じ意味。</p>
<p>拡張正規表現ってのが使える.普通の正規表現と何が違うかはよくわからない。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt
12345
bar
foo

$ grep -E <span class="hljs-string">'^(bar|foo)'</span> test.txt
bar
foo
</code></pre>
<h3>fgrep</h3>
<p><code>grep -F</code> と同じ意味。</p>
<p>正規表現文字をそのまま検索できる。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt
12345
bar.foo

$ grep -F <span class="hljs-string">'bar.foo'</span> test.txt
bar.foo
</code></pre>
<h3>wc</h3>
<p>行数、単語数を数える。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> test.txt
Hello World!
</code></pre>
<p><code>-m</code> は文字数を数える。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">wc</span> -m test.txt
      13 test.txt
</code></pre>
<p><code>-w</code> は単語数を数える。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">wc</span> -w test.txt
       2 test.txt
</code></pre>
<h2>プロセス管理</h2>
<h3>ps</h3>
<p>全プロセスを表示する。</p>
<pre><code class="hljs language-bash">$ ps aux
</code></pre>
<h3>top</h3>
<p>プロセス、CPU、メモリを表示。</p>
<p>デフォルトだと CPU 使用率順にソート。</p>
<p><code>-a</code> でメモリ使用順にソート。</p>
<h3>htop</h3>
<p>top より見やすい。</p>
<p>Shift + P で CPU 使用率、Shift + M でメモリ使用率順。</p>
<h3>atop</h3>
<p>top コマンドの代替。</p>
<p>htop のほうが良さそう。</p>
<h3>lsof</h3>
<p>特定のポート番号を待ち受けているか、もしくはファイルを読み込んでいるかを調べるとき。</p>
<p>80 番ポートで実行中のプロセスを調べる。</p>
<pre><code class="hljs language-bash">$ lsof -i:80 -P
</code></pre>
<p>特定のファイルを開いているプロセスを調べる。</p>
<pre><code class="hljs language-bash">$ lsof &#x3C;FILE>
</code></pre>
<p>コマンドを指定する。</p>
<pre><code class="hljs language-bash">$ lsof -c &#x3C;COMMAND>
</code></pre>
<h2>ネットワーク</h2>
<h3>nmap</h3>
<p>サーバの開いているポートを調べる。</p>
<pre><code class="hljs language-bash">$ nmap &#x3C;SERVER>
</code></pre>
<h3>tcpdump</h3>
<p>パケットをキャプチャする。</p>
<p>ホストを指定してキャプチャする。</p>
<pre><code class="hljs language-bash">$ tcpdump host &#x3C;HOST>
</code></pre>
<p>port を指定する。</p>
<pre><code class="hljs language-bash">$ tcpdump host &#x3C;HOST> and port 22
$ tcpdump host &#x3C;HOST> or port 22
</code></pre>
<h3>ping</h3>
<p>パケットを送信して通信を確認。</p>
<h3>traceroute</h3>
<p>経路と応答を調べる。</p>
<p><code>&#x3C;TARGET></code> までの経路と応答を調べる。</p>
<pre><code class="hljs language-bash">$ traceroute &#x3C;TARGET>
</code></pre>
<h3>mtr</h3>
<p>経路と応答を調べる.
traceroute とだいたい同じ。</p>
<h3>dig</h3>
<p>ドメイン名に対する IP を調べる。</p>
<pre><code class="hljs language-bash">$ dig www.google.co.jp
</code></pre>
<h3>netstat</h3>
<p>ネットワーク関連の情報を表示。</p>
<p><code>-r</code> でルーティングテーブルを表示する。</p>
<h2>システムパフォーマンス</h2>
<h3>nmon</h3>
<p>OS のベンチマークをとったりできる。</p>
<h3>iostat</h3>
<p>CPU 使用率と I/O デバイスの使用状況を調べる。</p>
<h3>sar</h3>
<p>メモリ、プロセス、スワップ、 CPU 等の統計情報を調べる。</p>
<h3>vmstat</h3>
<p>仮想メモリや CPU 、ディスク I/O の統計情報を調べる。</p>
<h2>その他</h2>
<h3>strace</h3>
<p>実行コマンドをトレースする。</p>
<pre><code class="hljs language-bash">$ strace <span class="hljs-built_in">ls</span>
</code></pre>
<h3>uname</h3>
<p>カーネル名を表示。</p>
<p><code>-a</code> で全ての情報を表示する。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">uname</span> -a
</code></pre>
<h3>df</h3>
<p>ディスクの空き容量を調べる。</p>
<p><code>-h</code> で読みやすく表示。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">df</span> -h
</code></pre>
<h3>history</h3>
<p>コマンドの履歴を表示。</p>
<p><code>-d</code> で指定した番号の履歴を削除する。</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">history</span> -d 10
</code></pre>0:{"buildId":"QRjg6Z3YyASrzbC3YDNw_","rsc":["$","$1","c",{"children":[["$","article",null,{"style":{"maxWidth":"1000px","margin":"0 auto","padding":"0 2rem 2rem"},"children":[["$","h1",null,{"children":"コマンドいろいろ"}],["$","div",null,{"dangerouslySetInnerHTML":{"__html":"$2"}}]]}],null,"$L3"]}],"loading":null,"isPartial":false}
3:["$","$L4",null,{"children":["$","$5",null,{"name":"Next.MetadataOutlet","children":"$@6"}]}]
6:null
